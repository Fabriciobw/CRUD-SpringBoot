<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
	<title>Pagina inicial</title>
	
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  </head>
	<body>

    <nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
    <a  href="/cadastrarCliente" class="navbar-brand ms-5"><i class="fa fa-home" aria-hidden="true"></i></a>
    <div class="d-flex">
      <input class="form-control me-2" id="txt_consulta" type="search" placeholder="Pesquisar" aria-label="Search">
      <button type="button" class="btn btn-warning me-5" onclick="myFunction()"><i class="fa fa-search" aria-hidden="true"></i></button>
    </div>
  </div>
</nav>

	<div class="container" >

    <br>

	<h2>Lista</h2>	
		
  <table id="tabela" class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Nome</th>
      <th scope="col">Sobrenome</th>
      <th scope="col">Email</th>
      <th scope="col">CPF</th>
      <th scope="col">Telefone</th>
      <th scope="col">Editar</th>
      <th scope="col">Deletar</th>

    </tr>
  </thead>
  <tbody>

    <tr th:each="cliente : ${clientes}">
      <td></td>
      <td  th:text = "${cliente.nome}"></td>
      <td th:text = "${cliente.sobrenome}"></td>
      <td th:text = "${cliente.email}"></td>
      <td th:text = "${cliente.cpf}"> </td>
      <td th:text = "${cliente.telefone}"></td>
    
               
           <td><a th:href="@{/edit/{id}(id=${cliente.id})}"><button type="button" class="btn btn-link"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
            <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
            </svg></button></a></td>

            <td><a th:href="@{/delete/{id}(id=${cliente.id})}"><i class="fa fa-trash" aria-hidden="true"></i></a></td>
    </tr>
     

  </tbody>
    
</table>

     <script>
    
      function myFunction() {
  var input, filter, table, tr, td, cell, i, j;
  input = document.getElementById("txt_consulta");
  filter = input.value.toUpperCase();
  table = document.getElementById("tabela");
  tr = table.getElementsByTagName("tr");

  for (i = 1; i < tr.length; i++) {
    tr[i].style.display = "none";
    td = tr[i].getElementsByTagName("td");

  for (var j = 0; j < td.length; j++) {
       cell = tr[i].getElementsByTagName("td")[j];
       if (cell) {
          if (cell.innerHTML.toUpperCase().indexOf(filter) > -1) {
              tr[i].style.display = "";
              break;
            } 
          }
          }
     }
    }
    </script>

  </div>
      

</body>
</html>